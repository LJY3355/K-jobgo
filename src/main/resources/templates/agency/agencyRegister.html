<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- CSRF 메타 (리스트 페이지 head 에 이미 있으면 생략 가능) -->
  <meta name="_csrf" th:if="${_csrf != null}" th:content="${_csrf.token}" />
  <meta name="_csrf_header" th:if="${_csrf != null}" th:content="${_csrf.headerName}" />
  
  <title>Sending Agency Profile 등록</title>
  <link rel="icon" href="https://k-jobgo-profile-photos-seoul.s3.ap-northeast-2.amazonaws.com/img/favicon.png" />
  <!-- 공통 스타일 -->
  <link rel="stylesheet" th:href="@{/css/layout.css}" />
  <link rel="stylesheet" th:href="@{/css/main.css}" />
  <link rel="stylesheet" th:href="@{/css/erp-layout.css}" />
  <!-- 등록 페이지 전용(선택) -->
  <link rel="stylesheet" th:href="@{/css/agencyRegister.css}" />
</head>

<body class="all-page" th:attr="data-is-admin=${isAdmin}, data-authority=${authorityId}, 
data-admin-name=${adminName}, data-super=${isSuper}">
<div th:replace="~{fragments/header :: siteHeader}"></div>

  <!-- ✅ K-jobgo 로고 전용 중앙 박스 (about-section 위에 배치) -->
<div class="center-kjobgo-logo">
<a th:href="@{/}">
  <img src="/img/k-jobgo_company.png" alt="K-jobgo | 외국인 인재 매칭 플랫폼" class="k-jobgologo" />
</a>
</div>

<main class="wrap">
	<div class="register-wrap">
	    <h1 class="register-title">송출업체 프로필 등록</h1>
	    <p class="register-sub">아래 정보를 입력해 등록을 완료해 주세요. (* 표시는 필수)</p>
	    
	    <div class="register-guide">
		  <p>
		    ⚠️ All fields are <strong>required</strong>. <br>
		    Please upload <strong>only one resume (CV)</strong> of the employee and submit.
		  </p>
		</div>
	
		<div class="register-card">
		    <!-- ✅ 등록 폼: 저장 후 서버에서 /agency/agencyList 로 redirect -->
		    <form id="agencyForm"
		          th:action="@{/agency/register}"
		          method="post"
		          enctype="multipart/form-data">
		
		      <!-- (선택) 서버가 참고할 리다이렉트 목적지 히든 필드 -->
		      <input type="hidden" name="redirectAfter" value="/agency/List"/>
		
		      <div class="grid-2">
		        <div>
		          <label for="agencyName">송출업체명(Agency Name) *</label>
		          <input type="text" id="agencyName" name="agencyName" maxlength="200" required placeholder="Example: KOREAMSA Global Agency" />
		        </div>
		
		        <div>
		          <label for="visaType">비자타입(Visa Type) *</label>
		          <input type="text" id="visaType" name="visaType" maxlength="50" required placeholder="Example: E-7, D-2, H-1"/>
		        </div>
		      </div>
		
		    <div class="grid-2">
			  <div>
			    <label for="jobCode">직무코드(Job Code) *</label>
			    <input type="text" id="jobCode" name="jobCode" maxlength="50"
			           required placeholder="Example: 7212, 7223, 8152"/>
			  </div>
			
			  <div>
			    <label for="employeeNameEn">근로자 이름(Employee Name) *</label>
			    <input type="text" id="employeeNameEn" name="employeeNameEn" maxlength="150"
			           required placeholder="Example: Lee Jun Hee"/>
			  </div>
			</div>
			
			<div class="grid-2">
			  <div>
			    <label for="nationalityEn">국적(Nationality) *</label>
			    <input type="text" id="nationalityEn" name="nationalityEn" maxlength="100"
			           required placeholder="Example: Vietnam, Nepal, Philippines" />
			  </div>
			
			  <div>
			    <label for="files">첨부파일 (Attachments: PDF, Word, Excel, Image) *</label>
			    	<!-- befor 여러파일 첨부
			    <input type="file" id="files" name="files" multiple 
			           accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png" required
			           placeholder="Example: Resume, CV, Cover Letter" /> -->
			           
				<input type="file" id="file" name="file"
				       accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png" required>
			  </div>
			</div>
				 <div class="footer">
				        <button type="button" class="btn Cancel" id="agencyCancel">취소(Cancel)</button>
				        <button type="submit" class="btn Save" id="agencySave">저장(Save)</button>
				</div>
		    </form>
		</div>
	</div>
</main>

    <footer class="foot-var">		
         <div>
  		<p> 
  		<span>(주)한국경영지원사업단&nbsp; 대표이사 : 이준희 <span class="divider">|</span> 사업자등록번호 : 887-81-00124</span><br>
        본사_경기도 김포시 김포한강4로 125 월드타워 705호 <span class="divider">|</span> 본부_경기도 광명시 일직로 43 GIDC A1706호<br>
        국내지사_김해지사, 대구지사, 천안지사, 광주지사, 원주지사 <span class="divider">|</span> 해외지사_베트남, 필리핀, 인도네시아, 인도, 몽골, 네팔, 우즈베키스탄<br>
        유료직업소개업 등록번호 : 제2025-4090515-14-5-00012호 <span class="divider">|</span> 
        Tel_ 031-983-0942 <span class="divider">|</span>  Fax_ 031-624-1540  <span class="divider">|</span> Email_ k-jobgo@naver.com<br>
 		ⓒ 2025 K-jobgo. All rights reserved.</p>
 		</div>
    </footer>
    
<script th:src="@{/js/agencyRegister.js}"></script>
</body>
</html>
